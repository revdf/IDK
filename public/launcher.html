<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <title>Atalho de paginas</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style>
      :root {
        color-scheme: dark;
        font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
          sans-serif;
      }
      body {
        margin: 0;
        padding: 2rem;
        background: #0f172a;
        color: #f8fafc;
        min-height: 100vh;
        display: flex;
        flex-direction: column;
        gap: 1.5rem;
      }
      header {
        display: flex;
        flex-wrap: wrap;
        align-items: center;
        gap: 1rem;
        justify-content: space-between;
      }
      input[type="url"] {
        flex: 1;
        min-width: 260px;
        padding: 0.6rem 0.9rem;
        border-radius: 0.5rem;
        border: 1px solid #475569;
        background: #1e293b;
        color: inherit;
      }
      button {
        border: none;
        border-radius: 0.5rem;
        padding: 0.8rem 1rem;
        background: #2563eb;
        color: #fff;
        font-weight: 600;
        cursor: pointer;
        transition: transform 0.15s ease, box-shadow 0.15s ease;
      }
      button:hover {
        transform: translateY(-1px);
        box-shadow: 0 10px 25px rgba(37, 99, 235, 0.25);
      }
      .grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
        gap: 1rem;
      }
      .card {
        padding: 1rem;
        background: #1e293b;
        border-radius: 0.75rem;
        display: flex;
        flex-direction: column;
        gap: 0.75rem;
        border: 1px solid #334155;
      }
      .status {
        font-size: 0.9rem;
        color: #cbd5f5;
      }
      .status.ok {
        color: #4ade80;
      }
      .status.fail {
        color: #f87171;
      }
    </style>
  </head>
  <body>
    <header>
      <h1>Atalho de paginas do projeto</h1>
      <input
        type="url"
        id="baseUrl"
        value="http://localhost:3000"
        placeholder="URL base do servidor (ex.: http://localhost:3000)"
      />
      <button id="abrir-todas">Abrir todas</button>
    </header>
    <p class="status" id="status">Verificando servidor...</p>
    <section class="grid" id="buttons"></section>
    <script>
      const routes = [
        { label: "Home", path: "/" },
        { label: "Dashboard", path: "/dashboard" },
        { label: "Cursos", path: "/courses" },
        { label: "Serviços", path: "/services" },
        { label: "Consultas", path: "/consultation" },
        {
          label: "Consultoria UX Boost",
          path: "/consultation/theme/ux-boost-simulator/consultant/demo",
        },
        { label: "Apresentação", path: "/presentation" },
        { label: "Inovação - SWOT", path: "/inovacao/analise-swot" },
        { label: "Inovação - UX Boost", path: "/inovacao/ux-boost-simulator" },
        {
          label: "Inovação - Digital Twin",
          path: "/inovacao/ux-digital-twin",
        },
      ];

      const statusEl = document.getElementById("status");
      const baseUrlInput = document.getElementById("baseUrl");
      const grid = document.getElementById("buttons");

      function getBaseUrl() {
        return baseUrlInput.value.replace(/\/$/, "");
      }

      function openRoute(path) {
        window.open(getBaseUrl() + path, "_blank");
      }

      function renderButtons() {
        grid.innerHTML = "";
        routes.forEach((route) => {
          const card = document.createElement("article");
          card.className = "card";
          card.innerHTML = `
            <strong>${route.label}</strong>
            <code>${route.path}</code>
            <button>Abrir</button>
          `;
          card.querySelector("button").addEventListener("click", () => {
            openRoute(route.path);
          });
          grid.appendChild(card);
        });
      }

      async function pingServer() {
        const url = getBaseUrl();
        try {
          const res = await fetch(url, { mode: "no-cors" });
          if (!res || (res.status !== 200 && res.type === "opaque")) {
            statusEl.textContent =
              "Servidor parece responder (modo no-cors).";
            statusEl.className = "status ok";
          } else {
            statusEl.textContent = "Servidor online.";
            statusEl.className = "status ok";
          }
        } catch (err) {
          statusEl.textContent =
            "Servidor offline? Rode `npm run dev` e recarregue.";
          statusEl.className = "status fail";
        }
      }

      document.getElementById("abrir-todas").addEventListener("click", () => {
        routes.forEach((route, index) => {
          setTimeout(() => openRoute(route.path), index * 150);
        });
      });

      baseUrlInput.addEventListener("change", pingServer);

      renderButtons();
      pingServer();
    </script>
  </body>
</html>

